<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><!-- saved from url=(0014)about:internet --><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><link rel="stylesheet" href="../../../style.css" type="text/css" media="screen"><link rel="stylesheet" href="../../../print.css" type="text/css" media="print"><link rel="stylesheet" href="../../../prettify.css" type="text/css"><link rel="stylesheet" href="../../../override.css" type="text/css"><meta name="keywords" content="ObjectPool,vegas.utils.pool.ObjectPool,builder,data,growing,length,next,parameters,usageCount,wasteCount,allocate,build,destroy,dispose,flush,get,initialize"><title>vegas.utils.pool.ObjectPool</title><script src="../../../AC_OETags.js" type="text/javascript"></script></head><body><script language="javascript" type="text/javascript" src="../../../prettify.js"></script><script language="javascript" type="text/javascript" src="../../../asdoc.js"></script><script language="javascript" type="text/javascript" src="../../../help.js"></script><script language="javascript" type="text/javascript" src="../../../cookies.js"></script><script language="javascript" type="text/javascript"><!--
                asdocTitle = 'ObjectPool - VEGAS AS3 Reference';
                var baseRef = '../../../';
                window.onload = configPage;
            --></script>
<script type="text/javascript">
            scrollToNameAnchor();
        </script><table class="titleTable" cellpadding="0" cellspacing="0" id="titleTable" style="display:none"><tr><td class="titleTableTitle" align="left">VEGAS AS3 Reference</td><td class="titleTableTopNav" align="right"><a href="../../../package-summary.html" onclick="loadClassListFrame('../../../all-classes.html')">All Packages</a>&nbsp;|&nbsp;<a href="../../../class-summary.html" onclick="loadClassListFrame('../../../all-classes.html')">All Classes</a>&nbsp;|&nbsp;<a href="../../../all-index-A.html" onclick="loadClassListFrame('../../../index-list.html')">Index</a>&nbsp;|&nbsp;<a id="framesLink1" href="../../../index.html?vegas/utils/pool/ObjectPool.html&amp;vegas/utils/pool/class-list.html">Frames</a><a id="noFramesLink1" style="display:none" href="" onclick="parent.location=document.location"> No Frames </a></td><td class="titleTableLogo" align="right" rowspan="3"><img src="../../../images/logo.jpg" class="logoImage" alt=" Adobe Logo " title=" Adobe Logo "></td></tr><tr class="titleTableRow2"><td class="titleTableSubTitle" id="subTitle" align="left">ObjectPool</td><td class="titleTableSubNav" id="subNav" align="right"><a href="#propertySummary">Properties</a>&nbsp;| <a href="#methodSummary">Methods</a>&nbsp;| <a href="#includeExamplesSummary">Examples</a></td></tr><tr class="titleTableRow3"><td colspan="3">&nbsp;</td></tr></table><script language="javascript" type="text/javascript" xml:space="preserve">
                <!--
                
                    if (!isEclipse() || window.name != ECLIPSE_FRAME_NAME) {titleBar_setSubTitle("ObjectPool"); titleBar_setSubNav(false,true,false,false,false,false,false,false,true,true,false    ,false,false,false,false,false);}    
                -->
            </script><div xmlns:fn="http://www.w3.org/2005/xpath-functions" class="MainContent"><table class="classHeaderTable" cellpadding="0" cellspacing="0"><tr><td class="classHeaderTableLabel">Package</td><td><a href="package-detail.html" onclick="javascript:loadClassListFrame('class-list.html')">vegas.utils.pool</a></td></tr><tr><td class="classHeaderTableLabel">Class</td><td class="classSignature">public  class  ObjectPool</td></tr><tr><td class="classHeaderTableLabel">Inheritance</td><td class="inheritanceList">ObjectPool  <img src="../../../images/inherit-arrow.gif" title="Inheritance" alt="Inheritance" class="inheritArrow"> Object</td></tr></table><p></p><p></p><p></p>
     This class implements the object pool design pattern implementation.
     
     <p></p><p><a href="#includeExamplesSummary">View the examples</a></p><br/><hr></div><a name="propertySummary"></a><div class="summarySection"><div class="summaryTableTitle">Public Properties</div><table cellspacing="0" cellpadding="3" class="summaryTable " id="summaryTableProperty"><tr><th>&nbsp;</th><th colspan="2">Property</th><th class="summaryTableOwnerCol">Defined By</th></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><a href="#builder" class="signatureLink">builder</a> : <a href="../../../vegas/utils/pool/ObjectPoolBuilder.html">ObjectPoolBuilder</a><div class="summaryTableDescription">
         Defines the builder responsible for creating all pool objects.</div></td><td class="summaryTableOwnerCol">ObjectPool</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><a href="#growing" class="signatureLink">growing</a> : Boolean<div class="summaryTableDescription">
         Indicates if the pool of objects is auto growing when a new user is called with the "object" property.</div></td><td class="summaryTableOwnerCol">ObjectPool</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><a href="#length" class="signatureLink">length</a> : int<div class="summaryTableDescription">[read-only] 
         Indicates the pool size.</div></td><td class="summaryTableOwnerCol">ObjectPool</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><a href="#parameters" class="signatureLink">parameters</a> : Array<div class="summaryTableDescription">
         The optional Array representation of parameters to send in the ObjectPoolBuilder.build() method use in the pool to create all objects.</div></td><td class="summaryTableOwnerCol">ObjectPool</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><a href="#usageCount" class="signatureLink">usageCount</a> : int<div class="summaryTableDescription">[read-only] 
         Indicates the total number of 'checked out' objects currently in use.</div></td><td class="summaryTableOwnerCol">ObjectPool</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><a href="#wasteCount" class="signatureLink">wasteCount</a> : int<div class="summaryTableDescription">[read-only] 
         The total number of unused thus wasted objects.</div></td><td class="summaryTableOwnerCol">ObjectPool</td></tr></table></div><a name="methodSummary"></a><div class="summarySection"><div class="summaryTableTitle">Public Methods </div><table cellspacing="0" cellpadding="3" class="summaryTable " id="summaryTableMethod"><tr><th>&nbsp;</th><th colspan="2">Method</th><th class="summaryTableOwnerCol">Defined By</th></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><div class="summarySignature"><a href="#ObjectPool()" class="signatureLink">ObjectPool</a>(growing:Boolean = false)</div><div class="summaryTableDescription">
         Creates a new ObjectPool instance.</div></td><td class="summaryTableOwnerCol">ObjectPool</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><div class="summarySignature"><a href="#allocate()" class="signatureLink">allocate</a>(size:uint = 1, clazz:Class = null, parameters:Array = null):void</div><div class="summaryTableDescription">
         Allocates the pool by creating all objects from the builder.</div></td><td class="summaryTableOwnerCol">ObjectPool</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><div class="summarySignature"><a href="#destroy()" class="signatureLink">destroy</a>():void</div><div class="summaryTableDescription">
         Destroy and unlock all ressources for the garbage collector.</div></td><td class="summaryTableOwnerCol">ObjectPool</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><div class="summarySignature"><a href="#dispose()" class="signatureLink">dispose</a>(o:*):void</div><div class="summaryTableDescription">
         Puts it back for the next use the specified object.</div></td><td class="summaryTableOwnerCol">ObjectPool</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><div class="summarySignature"><a href="#flush()" class="signatureLink">flush</a>():void</div><div class="summaryTableDescription">
         Removes all unused objects from the pool.</div></td><td class="summaryTableOwnerCol">ObjectPool</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><div class="summarySignature"><a href="#get()" class="signatureLink">get</a>():*</div><div class="summaryTableDescription">
         Returns the next available object from the pool.</div></td><td class="summaryTableOwnerCol">ObjectPool</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><div class="summarySignature"><a href="#initialize()" class="signatureLink">initialize</a>(name:String, args:Array):void</div><div class="summaryTableDescription">
         Helper method for applying a function to all objects in the pool.</div></td><td class="summaryTableOwnerCol">ObjectPool</td></tr></table></div><script language="javascript" type="text/javascript"><!--
										showHideInherited();
										--></script><div class="MainContent"><div class="detailSectionHeader">Property Detail</div><a name="propertyDetail"></a><a name="builder"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">builder</td><td class="detailHeaderType">property</td></tr></table><div class="detailBody"><code>public var builder:<a href="../../../vegas/utils/pool/ObjectPoolBuilder.html">ObjectPoolBuilder</a></code><p></p><p></p><p>
         Defines the builder responsible for creating all pool objects. 
         If you don't want to use a factory, you must provide a class to the allocate method instead.
         </p><p><span class="label">See also</span></p><div class="seeAlso"><a href="ObjectPool.html#allocate" target="">allocate</a></div></div><a name="propertyDetail"></a><a name="growing"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">growing</td><td class="detailHeaderType">property</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code>public var growing:Boolean</code><p></p><p></p><p>
         Indicates if the pool of objects is auto growing when a new user is called with the "object" property.
         </p></div><a name="propertyDetail"></a><a name="length"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">length</td><td class="detailHeaderType">property</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code>length:int</code>&nbsp;&nbsp;[read-only] <p></p><p></p><p>
         Indicates the pool size.
         </p><br/><span class="label"> Implementation </span><br/><code>&nbsp;&nbsp;&nbsp;&nbsp;public function get length():int</code><br/></div><a name="propertyDetail"></a><a name="parameters"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">parameters</td><td class="detailHeaderType">property</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code>public var parameters:Array</code><p></p><p></p><p>
         The optional Array representation of parameters to send in the ObjectPoolBuilder.build() method use in the pool to create all objects. 
         </p></div><a name="propertyDetail"></a><a name="usageCount"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">usageCount</td><td class="detailHeaderType">property</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code>usageCount:int</code>&nbsp;&nbsp;[read-only] <p></p><p></p><p>
         Indicates the total number of 'checked out' objects currently in use.
         </p><br/><span class="label"> Implementation </span><br/><code>&nbsp;&nbsp;&nbsp;&nbsp;public function get usageCount():int</code><br/></div><a name="propertyDetail"></a><a name="wasteCount"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">wasteCount</td><td class="detailHeaderType">property</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code>wasteCount:int</code>&nbsp;&nbsp;[read-only] <p></p><p></p><p>
         The total number of unused thus wasted objects. Use the purge() method to compact the pool.
         </p><br/><span class="label"> Implementation </span><br/><code>&nbsp;&nbsp;&nbsp;&nbsp;public function get wasteCount():int</code><br/><p><span class="label">See also</span></p><div class="seeAlso"><a href="ObjectPool.html#purge" target="">purge</a></div></div><a name="constructorDetail"></a><div class="detailSectionHeader">Constructor Detail</div><a name="ObjectPool()"></a><a name="ObjectPool(Boolean)"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">ObjectPool</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">Constructor</td></tr></table><div class="detailBody"><code>public function ObjectPool(growing:Boolean = false)</code><p></p><p>
         Creates a new ObjectPool instance.
         </p><span class="label"> Parameters </span><table cellpadding="0" cellspacing="0" border="0"><tr><td width="20px"></td><td><code><span class="label">growing</span>:Boolean</code> (default = <code>false</code>)<code></code> &mdash; Indicates if the pool of objects is auto growing when a new user is called with the "object" property.
         </td></tr></table></div><a name="methodDetail"></a><div class="detailSectionHeader">Method Detail</div><a name="allocate()"></a><a name="allocate(uint,Class,Array)"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">allocate</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td></tr></table><div class="detailBody"><code> public function allocate(size:uint = 1, clazz:Class = null, parameters:Array = null):void</code><p></p><p></p><p>
         Allocates the pool by creating all objects from the builder. 
         </p><p><span class="label"> Parameters </span><table cellpadding="0" cellspacing="0" border="0"><tr><td width="20px"></td><td><code><span class="label">size</span>:uint</code> (default = <code>1</code>)<code></code> &mdash; The class to create for each object node in the pool.
         </td></tr><tr><td class="paramSpacer">&nbsp;</td></tr><tr><td width="20px"></td><td><code><span class="label">clazz</span>:Class</code> (default = <code>null</code>)<code></code> &mdash; The number of objects to create.
         </td></tr><tr><td class="paramSpacer">&nbsp;</td></tr><tr><td width="20px"></td><td><code><span class="label">parameters</span>:Array</code> (default = <code>null</code>)<code></code> &mdash; The optional Array representation of parameters to send in the ObjectPoolBuilder.build() method use in this method to create all pooling objects. 
         This overwrites the current factory.
         </td></tr></table></p></div><a name="destroy()"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">destroy</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code> public function destroy():void</code><p></p><p></p><p>
         Destroy and unlock all ressources for the garbage collector.
         </p></div><a name="dispose()"></a><a name="dispose(any)"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">dispose</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code> public function dispose(o:*):void</code><p></p><p></p><p>
         Puts it back for the next use the specified object.
         </p><p><span class="label"> Parameters </span><table cellpadding="0" cellspacing="0" border="0"><tr><td width="20px"></td><td><code><span class="label">o</span>:*</code></td></tr></table></p></div><a name="flush()"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">flush</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code> public function flush():void</code><p></p><p></p><p>
         Removes all unused objects from the pool. 
         If the number of remaining used objects is smaller than the initial capacity defined by the 
         allocate() method, new objects are created to refill the pool. 
         </p></div><a name="get()"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">get</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code> public function get():*</code><p></p><p></p><p>
         Returns the next available object from the pool. 
         </p><p></p><span class="label">Returns</span><table cellpadding="0" cellspacing="0" border="0"><tr><td width="20"></td><td><code>*</code></td></tr></table><br/><span class="label">Throws</span><table cellpadding="0" cellspacing="0" border="0"><tr><td width="20"></td><td><code>Error </code> &mdash; If the pool is empty and resizable, an error is thrown.
         </td></tr></table></div><a name="initialize()"></a><a name="initialize(String,Array)"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">initialize</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code> public function initialize(name:String, args:Array):void</code><p></p><p></p><p>
         Helper method for applying a function to all objects in the pool.
         </p><p><span class="label"> Parameters </span><table cellpadding="0" cellspacing="0" border="0"><tr><td width="20px"></td><td><code><span class="label">name</span>:String</code> &mdash; The name of the method invoked to initialize all objects in the pool.
         </td></tr><tr><td class="paramSpacer">&nbsp;</td></tr><tr><td width="20px"></td><td><code><span class="label">args</span>:Array</code> &mdash; The Array representation of all arguments of the init method.
         </td></tr></table></p></div><a name="includeExamplesSummary"></a><div class="detailSectionHeader">Examples</div><div class="detailBody">Example
     <div class="listing" version="3.0"><pre>
     
     import vegas.util.pool.ObjectPool ;
     
     import examples.pool.MyBuilder ;
     import examples.pool.MyClass ;
     
     var i:int;
     
     var pool:ObjectPool = new ObjectPool() ;
     
     pool.allocate( 10 , MyClass , ["hello label"] ) ;
     
     pool.initialize("init", ["arg1", "arg2"]) ;
     
     var activeObjects:Array = [] ;
     
     //read the first object
     
     activeObjects[0] = pool.get() ;
     
     var k:int = pool.wasteCount ;
     
     trace("pool.wasteCount : " + pool.wasteCount) ; // 9
     
     for ( i = 0 ; i &lt; k ; i++ )
     {
         activeObjects.push( pool.get() ) ; // read the remaining 9 objects
     }
     
     // wasteCount is now zero, but usageCount reports 10.
     
     trace("pool.usageCount : " + pool.usageCount) ;
     
     try
     {
         //this will fail because the pool is now empty
         activeObjects.push( pool.get() );
     }
     catch (e:Error)
     {
         trace(e);
     }
     
     k = pool.size ;
     
     // give all objects back to the pool
     
     for (i = 0; i &lt; k; i++)
     {
         pool.dispose( activeObjects.shift() ) ;
     }
     
     // usage count is zero
     
     trace( pool.usageCount ) ;
     
     trace( "======= use grow property" ) ;
     
     pool.grow = true ;
     
     pool.get() ; // create a new object and the pool is growing witn 10 new objects inside the buffer.
     
     trace("pool.usageCount : " + pool.usageCount) ; // 1
     
     trace("pool.wasteCount : " + pool.wasteCount) ; // 9
     
     trace( "======= use destroy method" ) ;
     
     pool.destroy() ;
     
     trace("pool.usageCount : " + pool.usageCount) ; // 0
     trace("pool.wasteCount : " + pool.wasteCount) ; // 0
     
     trace( "======= Assign a custom object factory, see the test.pool.MyBuilder class") ;
     
     pool.builder = new MyBuilder();
     
     pool.allocate( 20 ) ;
     
     trace( pool.object ) ;
     
     trace("pool.usageCount : " + pool.usageCount) ; // 1
     trace("pool.wasteCount : " + pool.wasteCount) ; // 19
     
     </pre></div>
     </div><br/><br/><hr><br/><p></p><center class="copyright"><footer></footer><br/>Vendredi Mai 13 2011, 11:30 AM +02:00  </center></div></body></html><!--<br/>Vendredi Mai 13 2011, 11:30 AM +02:00  -->