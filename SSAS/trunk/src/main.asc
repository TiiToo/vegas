///////////////////////////

load( "buRRRn.js" ) ;
load( "core.js"   ) ;
load( "system.js" ) ;

load( "vegas.asc" ) ;

///////////////////////////

// load("unittests/Application.js") ;

///////////////////////////


function finish( service /*RemotingService*/ )
{
    trace( "finish" ) ;
}

function fault( service /*RemotingService*/ , fault )
{
    trace( "fault : " + core.dump( fault ) ) ;
}

function progress( service /*RemotingService*/ )
{
    trace( "progress") ;
}

function result( service /*RemotingService*/ , result )
{
    trace( "result : " + result ) ;
}

function start( service /*RemotingService*/ )
{
    trace( "start" ) ;
}

service = new vegas.net.remoting.RemotingService() ;
service.scope = "singleton" ;

service.faultIt.connect( fault ) ;
service.finishIt.connect( finish ) ;
service.progressIt.connect( progress ) ;  
service.resultIt.connect( result ) ;
service.startIt.connect( start ) ;

service.multipleSimultaneousAllowed = true ;

service.gatewayUrl  = "http://localhost/vegas/amfphp/gateway.php" ;
service.serviceName = "Test" ;
service.methodName  = "hello" ;
service.params      = [ "world" ] ;

service.run() ;
service.run() ;
