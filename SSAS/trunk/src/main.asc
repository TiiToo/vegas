load("src/vegas.asc") ;

// Unit Tests

// load("unittests/Application.asc") ;

// Example

onAccept = function ( e /*ApplicationEvent*/ ) 
{
	trace( e ) ;
}
	
onConnect = function ( e /*ApplicationEvent*/ ) 
{
	trace( e ) ;
	asgard.APPLICATION.acceptConnection( e.client ) ;
	//asgard.APPLICATION.rejectConnection( e.client , "test reject") ;
}

onDisconnect = function ( e /*ApplicationEvent*/ ) 
{
	trace( e ) ;
}

onReject = function ( e /*ApplicationEvent*/ ) 
{
	trace( e ) ;
}

onStart = function ( e /*ApplicationEvent*/ ) 
{
	trace( e ) ;
}

onStop = function ( e /*ApplicationEvent*/ ) 
{
	trace( e ) ;
}

ApplicationEvent = asgard.events.ApplicationEvent ;
Delegate         = vegas.events.Delegate ;

controller = vegas.events.FrontController.getInstance() ;

controller.insert( ApplicationEvent.ACCEPT     , new Delegate  (this, onAccept)) ;
controller.insert( ApplicationEvent.CONNECT    , new Delegate  (this, onConnect)) ;
controller.insert( ApplicationEvent.DISCONNECT , new Delegate  (this, onDisconnect)) ;
controller.insert( ApplicationEvent.REJECT     , new Delegate  (this, onReject)) ;
controller.insert( ApplicationEvent.START      , new Delegate  (this, onStart)) ;
controller.insert( ApplicationEvent.STOP       , new Delegate  (this, onStop)) ;

asgard.APPLICATION.setGlobal(true) ;
