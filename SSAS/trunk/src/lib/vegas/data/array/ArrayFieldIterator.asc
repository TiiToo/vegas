
/* ---------- Class ArrayFieldIterator

	AUTHOR

		Name : ArrayFieldIterator
		type : SSAS
		Package : vegas.data.array
		Version : 1.0.0.0
		Author : ekameleon
		Date : 2006-01-09
		URL : http://www.ekameleon.net
		Mail : vegas@ekameleon.net

	METHOD SUMMARY

		- hasNext()
		
		- key()
		
		- next()
		
		- reset()
		
		- remove()
		
		- seek( n:Number )
		
		- reset()
		
		- toString()
	
	INHERIT
	
		Object > vegas.data.array.ArrayIterator
	
	EXAMPLE
	
		var ar = [
			{ name : "bob" , value : "coucou" } ,
			{ name : "alfred" , value : "hello" } ,
			{ name : "chloé" , value : "bonjour" }
		] ;
		
		var it = new vegas.data.array.ArrayFieldIterator(ar, "name") ;
		
		while(it.hasNext()) {
			var value = it.next() ;
			var key = it.key() ;
			trace (key + " : " + value) ;
		}
		
		// output
		// 0 : bob
		// 1 : alfred
		// 2 : chloé

---------- */ 


var namespace = _global.getPackage("vegas.data.array") ;

if (namespace.ArrayFieldIterator == undefined) {
	
	loadFile("vegas/data/array/ArrayIterator.asc") ;

	// ----o Constructor

	vegas.data.array.ArrayFieldIterator = function ( ar /*Array*/ , fieldName /*String*/ ) { 
		this.constructor.apply(this, [ar]) ; // super
		this.fieldName = (fieldName || null) ;
	}

	var constructor = vegas.data.array.ArrayFieldIterator ;
	var proto = constructor.extend(vegas.data.array.ArrayIterator) ;

	// ---- Public Methods
	
	proto.next = function () {
		var o = this._a[++this._k] ;
		return (this.fieldName != null) ? o[this.fieldName] : o ;
	}

	proto.toString = function () {
		return "[ArrayFieldIterator]" ;
	}

	// ----o Encapsulate

	delete constructor ;
	delete proto ;
	
	//trace ("***** running vegas.data.array.ArrayFieldIterator") ;

}

delete namespace ;